    {% extends 'base.html.twig' %}

    {% block title %}âœï¸ {{ form.vars.value.id ? 'Edit Property' : 'Add Property' }}{% endblock %}

    {% block body %}
    <div class="container mt-5">
        <div class="card shadow-sm border-0 rounded-4 p-4 mx-auto" style="max-width: 700px;">
            <h3 class="text-center mb-4 text-primary">
                {{ form.vars.value.id ? ' Edit Property' : 'ğŸ  Add New Property' }}
            </h3>

            {{ form_start(form, {'attr': {'enctype': 'multipart/form-data'}}) }}
            <div class="mb-3">
                <label class="form-label fw-bold">ğŸ·ï¸ Title</label>
                {{ form_widget(form.title, {'attr': {'class': 'form-control', 'placeholder': 'Enter property title'}}) }}
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">ğŸ“ Location</label>
                {{ form_widget(form.location, {'attr': {'class': 'form-control', 'placeholder': 'Enter location'}}) }}
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">ğŸ“ Description</label>
                {{ form_widget(form.description, {'attr': {'class': 'form-control', 'placeholder': 'Enter property description', 'rows': '3'}}) }}
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">ğŸ’° Price</label>
                {{ form_widget(form.price, {'attr': {'class': 'form-control', 'placeholder': 'Enter price'}}) }}
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">ğŸ›ï¸ Bedrooms</label>
                {{ form_widget(form.bedrooms, {'attr': {'class': 'form-control', 'placeholder': 'Enter number of bedrooms'}}) }}
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">ğŸ  Category</label>
                {{ form_widget(form.category, {'attr': {'class': 'form-select'}}) }}
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">ğŸ–¼ï¸ Upload Property Image</label>
                <div class="form-control p-2 bg-light border rounded">
                    {{ form_widget(form.image, {'attr': {'class': 'form-control'}}) }}
                </div>
            </div>

            <div class="text-center mt-4">
                <button type="submit" class="btn btn-primary px-4">ğŸ’¾ Save Property</button>
                <a href="{{ path('app_property_index') }}" class="btn btn-secondary px-4">â¬…ï¸ Back</a>
            </div>
            {{ form_end(form) }}
        </div>
    </div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('form');
    if (!form) return;
    form.addEventListener('submit', function () {
        const price = form.querySelector('input[name$="[price]"]');
        const bedrooms = form.querySelector('input[name$="[bedrooms]"]');
        if (price && price.value) {
            price.value = price.value.replace(/[^0-9.]/g, '');
            const parts = price.value.split('.');
            if (parts.length > 2) {
                price.value = parts[0] + '.' + parts.slice(1).join('');
            }
        }
        if (bedrooms && bedrooms.value) {
            bedrooms.value = bedrooms.value.replace(/[^0-9]/g, '');
        }
    });
});
</script>

    <style>
        body {
            background-color: #f9fafb;
        }
        .card {
            border-radius: 16px;
        }
        .form-label {
            color: #003366;
        }
    </style>
    {% endblock %}
